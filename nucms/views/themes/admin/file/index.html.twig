{% extends 'base.html.twig' %}

{% block body %}

<!-- page list -->
<div class="container">

    <!-- fileManager -->
    <div id="fileManager">

        <div class="row">
            <div class="col-sm-3">

                <button class="btn btn-save btn-sm fileShowUpload" type="button"><i class="fa fa-arrow-down"></i>{{ lang('file.text.add_files') }}</button><br><br>
                <button class="btn btn-save btn-sm fildFolderAdd" type="button"><i class="fa fa-plus"></i>{{ lang('file.text.add_folder') }}</button>

                <!-- folderTree -->
                <div class="folderTreeBox">
                    <ul class="folderTree">
                        {{ files_folders_tree | raw }}
                    </ul>
                </div>

            </div>
            <div class="col-sm-9">

                <div class="row">
                    <div class="col-sm-4">
                        <!-- dropdown actions -->
                        <div class="inLine">
                            <span class="txtUpper">{{ lang('text.checked_items') }}:</span>
                            <span class="btn-group dropdown nuDropdown">
                                <span data-toggle="dropdown" class="txtBig hoverLine">{{ lang('text.choose') }} <i class="fa fa-angle-down"></i></span>
                                <ul class="dropdown-menu">
                                    <li>
                                        <button type="submit" name="action" value="delete_checked"><i class="ion ion-android-delete"></i>{{ lang('text.delete') }}</button>
                                    </li>
                                </ul>
                            </span>
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <!-- search input -->
                        <div class="input-group bigInput">
                            <div class="input-group-addon">
                                <button type="submit">
                                    <i class="fa fa-search"></i>
                                </button>
                            </div>
                            {{ form_input({'name': 'string', 'class': 'form-control', 'value': input.get('string')}) }}
                        </div>
                    </div>
                    <div class="col-sm-4">
                        <div class="text-right">
                            <button class="btn btn-save" type="button"><i class="fa fa-check"></i>{{ lang('text.confirm') }}</button>
                            <button class="btn btn-red btn-circle btn-margin-left" type="button"><i class="fa fa-times"></i></button>
                        </div>
                    </div>
                </div>

                <!-- fileUploadBox -->
                <div id="myDropzone" class="dropzone fileUploadBox">
                    <div class="inside">
                        <i class="fa fa-upload"></i>
                        <div class="information txtBig">{{ lang('file.text.uploader') }}</div>
                    </div>

                    <div class="myDropzoneClear"><i class="fa fa-times"></i> {{ lang('file.text.clear_files') }}</div>
                </div>

                <!-- filesList -->
                <div class="filesList">

                    <div class="row">
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img1.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img2.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img3.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img4.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img1.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img2.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img3.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img4.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img1.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img2.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img3.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <div class="file">
                                <div class="thumb"><img src="{{ asset('img/files/img4.jpg') }}"></div>
                                <div class="name txtBig">Ja jebe co zdjęcie.jpg</div>
                                <div class="details">rozmiar: 500kb, data dodania: 22.22.2015</div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>

    </div>

    <!-- margin -->
    <div class="clearfix baseMargin"></div>

</div>

{% endblock %}

{% block javascript %}

    {{ parent() }}

    <script>

        // -- dropzone
        Dropzone.autoDiscover = false;
        $("#myDropzone").dropzone({
            maxFilesize: {{ config.upload_max_file_size }},
            url: "{{ config.upload_action }}",
            paramName: "file",
            autoProcessQueue: true,
            success: function (file, response) {
                console.log(response);
               {#if (splitResponse[0] == 1) {
                   file.previewElement.querySelector(".dz-remove").remove();
                   file.previewElement.classList.add("dz-success");
               } else {
                   return file.previewElement.classList.add("dz-error");
               }#}
            },
            init: function() {
                var myDropzone = this;

                $('.myDropzoneClear').on("click", function(e) {
                    myDropzone.removeAllFiles(true);
                });

                this.on("error", function(file, response) {
                    //handle errors here
                });
            }
        });

    </script>

{% endblock %}